<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Instagram Filters Tool</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<style>
* { box-sizing: border-box; }
body {
  font-family: Arial, sans-serif;
  background: #f3f4f6;
  margin: 0;
  padding: 20px;
}
.container {
  max-width: 1200px;
  margin: auto;
  background: #ffffff;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.1);
}
h1 { text-align: center; margin-bottom: 25px; }

/* Upload section */
.upload-section {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
}


.upload-box {
  border: 2px dashed #cbd5e1;
  padding: 30px;
  text-align: center;
  border-radius: 10px;
  cursor: pointer;
}
.upload-box:hover { background: #f8fafc; }
.upload-box input { display: none; }


.upload-url-box {
  border: 2px dashed #cbd5e1;
  padding: 30px;
  text-align: center;
  border-radius: 10px;
}
.upload-url-box:hover { background: #f8fafc; }

.url-box {
  display: flex;
  gap: 10px;
  justify-content: center;
}
.url-box input {
  width: 70%;
  padding: 10px;
}
.url-box button {
  padding: 10px 16px;
  background: #2563eb;
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
}

/* Preview */
.preview {
  text-align: center;
  margin: 30px 0;
}
.preview img {
  max-width: 100%;
  max-height: 420px;
  border-radius: 10px;
}

/* Filters */
.filters {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));
  gap: 14px;
}
.filter {
  text-align: center;
  cursor: pointer;
}
.filter img {
  width: 100%;
  border-radius: 8px;
}
.filter span {
  display: block;
  margin-top: 6px;
  font-size: 14px;
}
.filter.active span {
  color: #2563eb;
  font-weight: bold;
}

/* Actions */
.actions {
  display: flex;
  justify-content: center;
  gap: 15px;
  margin-top: 30px;
}
.actions button {
  padding: 12px 22px;
  border: none;
  border-radius: 6px;
  cursor: pointer;
}
.download { background: #16a34a; color: #fff; }
.reset { background: #dc2626; color: #fff; }
</style>
</head>
<body>
<div class="container">
<h1>Instagram Filters Tool</h1>

<!-- Upload Options -->
<div class="upload-section">
  <label class="upload-box" for="fileInput">
    <input type="file" id="fileInput" accept="image/*" />
    <strong>Drag your image here</strong><br/>or click to browse
  </label>

  <div class="upload-url-box">
    <div class="url-box">
      <input type="text" id="imageUrl" placeholder="Image URL" />
      <button id="loadUrlBtn">Load Image</button>
    </div>
  </div>
</div>

<!-- Main Preview -->
<div class="preview">
  <img id="mainImage" />
</div>

<!-- Filter Thumbnails -->
<div class="filters" id="filters"></div>

<!-- Actions -->
<div class="actions">
  <button class="download" onclick="downloadImage()">Download</button>
  <button class="reset" onclick="resetImage()">Reset</button>
</div>
</div>

<script>
const mainImage = document.getElementById('mainImage');
const fileInput = document.getElementById('fileInput');
const loadUrlBtn = document.getElementById('loadUrlBtn');
let originalSrc = '';

const filterMap = {
  Normal: 'none',
  Clarendon: 'contrast(1.2) saturate(1.35)',
  Gingham: 'contrast(0.9) sepia(0.25)',
  Moon: 'grayscale(1) contrast(1.1)',
  Lark: 'brightness(1.1) saturate(1.3)',
  Reyes: 'sepia(0.4) brightness(1.1)',
  Juno: 'contrast(1.15) saturate(1.4)',
  Slumber: 'brightness(1.05) saturate(0.85)',
  Crema: 'sepia(0.25) contrast(1.05)',
  Ludwig: 'contrast(1.25) saturate(1.1)',
  Aden: 'sepia(0.2) brightness(1.15)',
  Perpetua: 'contrast(1.1) brightness(1.1)'
};

const filtersDiv = document.getElementById('filters');

function renderFilters() {
  filtersDiv.innerHTML = '';
  Object.entries(filterMap).forEach(([name, css]) => {
    const div = document.createElement('div');
    div.className = 'filter';

    const img = document.createElement('img');
    img.src = originalSrc;
    img.style.filter = css;

    const label = document.createElement('span');
    label.textContent = name;

    div.onclick = () => applyFilter(css, div);
    div.appendChild(img);
    div.appendChild(label);
    filtersDiv.appendChild(div);
  });
}

function applyFilter(css, element) {
  document.querySelectorAll('.filter').forEach(f => f.classList.remove('active'));
  element.classList.add('active');
  mainImage.style.filter = css;
}

fileInput.addEventListener('change', e => {
  const file = e.target.files[0];
  if (!file) return;
  const reader = new FileReader();
  reader.onload = () => {
    originalSrc = reader.result;
    mainImage.src = originalSrc;
    mainImage.style.filter = 'none';
    renderFilters();
  };
  reader.readAsDataURL(file);
});

loadUrlBtn.addEventListener('click', () => {
  const url = document.getElementById('imageUrl').value.trim();
  if (!url) return alert('Please enter an image URL');

  const img = new Image();
  img.crossOrigin = 'anonymous';
  img.onload = () => {
    originalSrc = img.src;
    mainImage.src = originalSrc;
    mainImage.style.filter = 'none';
    renderFilters();
  };
  img.onerror = () => alert('Unable to load image from URL');
  img.src = url;
});

function resetImage() {
  if (!originalSrc) return;
  mainImage.src = originalSrc;
  mainImage.style.filter = 'none';
  document.querySelectorAll('.filter').forEach(f => f.classList.remove('active'));
}

function downloadImage() {
  if (!mainImage.src) return;
  const canvas = document.createElement('canvas');
  const ctx = canvas.getContext('2d');
  canvas.width = mainImage.naturalWidth;
  canvas.height = mainImage.naturalHeight;
  ctx.filter = mainImage.style.filter;
  ctx.drawImage(mainImage, 0, 0);
  const link = document.createElement('a');
  link.download = 'filtered-image.png';
  link.href = canvas.toDataURL('image/png');
  link.click();
}
</script>
</body>
</html>
